<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Чат с GPT-5 Nano</title><style>:root{--bg-color:#2a3b4c;--chat-bg:#1e2b38;--text-color:#e0e0e0;--user-msg-bg:#3a506b;--ai-msg-bg:#4a6280;--input-bg:#1e2b38;--input-border:#3a506b;--button-bg:#3a506b;--button-hover:#4a6280;--accent-color:#5d8aa8;--shadow:rgba(0, 0, 0, 0.3)}.light-theme{--bg-color:#f0f5ff;--chat-bg:#ffffff;--text-color:#333333;--user-msg-bg:#d6e4ff;--ai-msg-bg:#e8efff;--input-bg:#ffffff;--input-border:#b8c7e0;--button-bg:#5d8aa8;--button-hover:#4a7699;--accent-color:#3a6ea5;--shadow:rgba(0, 0, 0, 0.1)}*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}body{background-color:var(--bg-color);color:var(--text-color);transition:background-color .3s,color .3s;height:100vh;display:flex;flex-direction:column}header{padding:15px 20px;display:flex;justify-content:space-between;align-items:center;background-color:var(--chat-bg);box-shadow:0 2px 10px var(--shadow);z-index:10}h1{font-size:1.5rem;color:var(--accent-color)}.theme-toggle{background:0 0;border:1px solid var(--accent-color);color:var(--accent-color);padding:8px 15px;border-radius:20px;cursor:pointer;transition:all .3s}.theme-toggle:hover{background-color:var(--accent-color);color:var(--bg-color)}.chat-container{flex:1;display:flex;flex-direction:column;max-width:800px;margin:0 auto;width:100%;padding:20px;overflow:hidden}.messages-container{flex:1;overflow-y:auto;padding:20px;background-color:var(--chat-bg);border-radius:10px;margin-bottom:20px;box-shadow:0 4px 12px var(--shadow)}.message{margin-bottom:15px;padding:12px 16px;border-radius:18px;max-width:80%;line-height:1.4;word-wrap:break-word;animation:fadeIn .3s ease}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.user-message{background-color:var(--user-msg-bg);margin-left:auto;border-bottom-right-radius:5px}.ai-message{background-color:var(--ai-msg-bg);margin-right:auto;border-bottom-left-radius:5px}.input-container{display:flex;flex-direction:column;background-color:var(--chat-bg);padding:15px;border-radius:10px;box-shadow:0 4px 12px var(--shadow)}.input-wrapper{display:flex;gap:10px}textarea{flex:1;padding:12px 15px;border:1px solid var(--input-border);border-radius:20px;background-color:var(--input-bg);color:var(--text-color);resize:none;font-size:1rem;outline:0;transition:border-color .3s}textarea:focus{border-color:var(--accent-color)}.send-button{background-color:var(--button-bg);color:#fff;border:none;border-radius:50%;width:50px;height:50px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s}.send-button:hover{background-color:var(--button-hover)}.send-button:disabled{background-color:#6c757d;cursor:not-allowed}.word-counter{text-align:right;margin-top:8px;font-size:.85rem;color:var(--text-color);opacity:.7}.loading-indicator{display:none;text-align:center;padding:10px;color:var(--accent-color)}.loading-indicator.active{display:block}.typing-dots{display:inline-block;position:relative;width:80px;height:20px}.typing-dots div{position:absolute;top:8px;width:8px;height:8px;border-radius:50%;background:var(--accent-color);animation-timing-function:cubic-bezier(0,1,1,0)}.typing-dots div:nth-child(1){left:8px;animation:typing-dots1 .6s infinite}.typing-dots div:nth-child(2){left:8px;animation:typing-dots2 .6s infinite}.typing-dots div:nth-child(3){left:32px;animation:typing-dots2 .6s infinite}.typing-dots div:nth-child(4){left:56px;animation:typing-dots3 .6s infinite}@keyframes typing-dots1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes typing-dots3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes typing-dots2{0%{transform:translate(0,0)}100%{transform:translate(24px,0)}}@media (max-width:600px){.chat-container{padding:10px}.message{max-width:90%}}</style></head><body><header><h1>Чат с GPT-5 Nano</h1><button class="theme-toggle" id="themeToggle">Светлая тема</button></header><div class="chat-container"><div class="messages-container" id="messagesContainer"><div class="message ai-message">Привет! Я GPT-5 Nano. Чем могу вам помочь?</div></div><div class="loading-indicator" id="loadingIndicator"><div class="typing-dots"><div></div><div></div><div></div><div></div></div></div><div class="input-container"><div class="input-wrapper"><textarea id="messageInput" placeholder="Введите ваше сообщение..." rows="1"></textarea> <button class="send-button" id="sendButton"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="white"/></svg></button></div><div class="word-counter"><span id="wordCount">0</span>/500 слов</div></div></div><script src="https://js.puter.com/v2/"></script><script>const messagesContainer=document.getElementById("messagesContainer"),messageInput=document.getElementById("messageInput"),sendButton=document.getElementById("sendButton"),wordCount=document.getElementById("wordCount"),loadingIndicator=document.getElementById("loadingIndicator"),themeToggle=document.getElementById("themeToggle");let isLightTheme=!1;function addMessage(e,t){const n=document.createElement("div");n.classList.add("message"),n.classList.add(t?"user-message":"ai-message"),n.textContent=e,messagesContainer.appendChild(n),messagesContainer.scrollTop=messagesContainer.scrollHeight}function countWords(e){return e.trim().split(/\s+/).filter(e=>0<e.length).length}async function sendMessage(){var e=messageInput.value.trim();if(""!==e)if(500<countWords(e))alert("Превышен лимит в 500 слов");else{addMessage(e,!0),messageInput.value="",updateWordCount(),loadingIndicator.classList.add("active"),sendButton.disabled=!0;try{addMessage(await puter.ai.chat(e,{model:"gpt-5-nano"}),!1)}catch(e){console.error("Ошибка при обращении к API:",e),addMessage("Извините, произошла ошибка при обработке вашего запроса.",!1)}finally{loadingIndicator.classList.remove("active"),sendButton.disabled=!1,messageInput.focus()}}}function updateWordCount(){var e=countWords(messageInput.value);wordCount.textContent=e,wordCount.style.color=450<e?"#ff6b6b":400<e?"#ffa500":""}function toggleTheme(){isLightTheme=!isLightTheme,isLightTheme?(document.body.classList.add("light-theme"),themeToggle.textContent="Темная тема"):(document.body.classList.remove("light-theme"),themeToggle.textContent="Светлая тема")}function autoResizeTextarea(){messageInput.style.height="auto",messageInput.style.height=messageInput.scrollHeight+"px"}sendButton.addEventListener("click",sendMessage),messageInput.addEventListener("input",function(){updateWordCount(),autoResizeTextarea()}),messageInput.addEventListener("keydown",function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())}),themeToggle.addEventListener("click",toggleTheme),messageInput.focus(),updateWordCount()</script></body></html>
