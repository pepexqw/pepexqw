╔══╗╔═══╗╔══╗╔═══╗╔═══╗╔════╗╔══╗───╔══╗╔══╗───╔════╗╔╗╔╗╔══╗╔╗──╔╗╔══╗╔══╗
║╔═╝║╔══╝║╔═╝║╔═╗║║╔══╝╚═╗╔═╝║╔═╝───║╔╗║║╔═╝───╚═╗╔═╝║║║║║╔╗║║║──║║║╔╗║║╔═╝
║╚═╗║╚══╗║║──║╚═╝║║╚══╗──║║──║╚═╗───║║║║║╚═╗─────║║──║╚╝║║║║║║╚╗╔╝║║╚╝║║╚═╗
╚═╗║║╔══╝║║──║╔╗╔╝║╔══╝──║║──╚═╗║───║║║║║╔═╝─────║║──║╔╗║║║║║║╔╗╔╗║║╔╗║╚═╗║
╔═╝║║╚══╗║╚═╗║║║║─║╚══╗──║║──╔═╝║───║╚╝║║║───────║║──║║║║║╚╝║║║╚╝║║║║║║╔═╝║
╚══╝╚═══╝╚══╝╚╝╚╝─╚═══╝──╚╝──╚══╝───╚══╝╚╝───────╚╝──╚╝╚╝╚══╝╚╝──╚╝╚╝╚╝╚══╝


/* made by pepexqw */


Это интерактивный бот-викторина, который в игровой форме раскрывает детали и секреты вымышленной вселенной анимационного персонажа Фомы. Бот построен по принципу «задай вопрос — получи эксклюзивный ответ».

🎯 Ключевая механика и логика:
Два раунда вопросов:

Обычный раунд (5 вопросов): Пользователь выбирает из списка из 6 основных вопросов о персонаже Фоме, его семье, сюжете будущего фильма и т.д.

Бонусный раунд (1 вопрос): После 4-го обычного вопроса открывается доступ к особому разделу с 5 дополнительными, более личными или забавными вопросами (например, «как я выгляжу? Цена: 750₽»).

Система ограничений и прогресса:

Каждому пользователю доступно всего 5 вопросов (4 обычных + 1 бонусный, либо 5 обычных).

Бот отслеживает прогресс каждого пользователя (user_id) с помощью словаря user_questions.

Состояние (сколько вопросов задано, использован ли бонус) сохраняется в файл voprosov.txt. Это значит, что прогресс не сбрасывается после перезапуска бота.

🛠 Технические особенности (из кода):
Стек: Python с библиотекой python-telegram-bot (версии 20.x).

Архитектура: Чистая структура с использованием ApplicationBuilder, CommandHandler и CallbackQueryHandler для обработки инлайн-кнопок.

Интерфейс: Полностью интерактивный, на основе InlineKeyboard. Вопросы отображаются в виде аккуратных кнопок. Если текст вопроса длиннее 60 символов, он автоматически обрезается с добавлением ....

Обработка данных:

Вопросы и ответы хранятся в списках (questions, answers, bonus_questions, bonus_answers), что упрощает их редактирование.

Реализована загрузка и сохранение прогресса пользователей в текстовый файл, что обеспечивает простую персистентность данных.

Обработка ошибок: Есть базовый error_handler, который ловит исключения и уведомляет пользователя.

💬 Примеры вопросов, на которые отвечает бот:
О бытии персонажа: «Как появился Фома на самом деле?», «Кто Фома на самом деле?»

О сюжете: Про спойлеры к фильму «Тёмный Избранный».

Личное: «Есть ли у Фомы девушка?», «Кто вся родня Фомы?»

Бонусные (с юмором и мета-информацией): «Мой ник в ROBLOX?», «Как я выгляжу? (Цена: 750₽)».

🎨 Пользовательский сценарий:
Пользователь запускает бота командой /start.

Получает приветственное сообщение и меню с кнопками-вопросами.

Выбирает вопрос → мгновенно получает развернутый, стилизованный ответ с указанием прогресса (Задано: 2/5).

Под каждым ответом есть кнопка «Показать доступные вопросы», чтобы продолжить.

После 4-го вопроса автоматически открывается экран с бонусными вопросами (с пометкой 🎉).

После 5-го вопроса (с бонусом или без) сессия завершается.

✅ Что было сделано хорошо в коде:
Чистая, модульная структура.

Учет состояния каждого пользователя.

Простое, но эффективное хранение данных.

Удобный интерфейс с инлайн-кнопками.

Защита от «перекликивания» — бонусный вопрос можно использовать только один раз.

Есть обработчик ошибок.