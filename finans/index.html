<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Alpha Vantage Stock Dashboard</title><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><style>*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}body{background-color:#f5f7fa;color:#333;line-height:1.6}.container{max-width:1200px;margin:0 auto;padding:20px}header{background:linear-gradient(135deg,#1e3c72 0,#2a5298 100%);color:#fff;padding:30px 0;text-align:center;border-radius:10px;margin-bottom:30px;box-shadow:0 4px 6px rgba(0,0,0,.1)}h1{font-size:2.5rem;margin-bottom:10px}.search-section{background:#fff;padding:25px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.05);margin-bottom:30px}.search-form{display:flex;gap:15px;margin-bottom:20px}button,input,select{padding:12px 15px;border:1px solid #ddd;border-radius:5px;font-size:16px}input{flex:1}button{background-color:#2a5298;color:#fff;border:none;cursor:pointer;transition:background-color .3s}button:hover{background-color:#1e3c72}.search-results{display:none;margin-top:20px;border:1px solid #eee;border-radius:5px;max-height:200px;overflow-y:auto}.search-result-item{padding:10px 15px;border-bottom:1px solid #eee;cursor:pointer}.search-result-item:hover{background-color:#f5f7fa}.dashboard{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width:768px){.dashboard{grid-template-columns:1fr}}.card{background:#fff;border-radius:10px;padding:25px;box-shadow:0 2px 10px rgba(0,0,0,.05)}.card h2{margin-bottom:20px;color:#2a5298;border-bottom:2px solid #f0f0f0;padding-bottom:10px}.quote-info{display:grid;grid-template-columns:1fr 1fr;gap:15px}.quote-item{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #f0f0f0}.price{font-size:2rem;font-weight:700;margin:15px 0}.positive{color:#4caf50}.negative{color:#f44336}.chart-container{height:300px;margin-top:20px}.loading{text-align:center;padding:20px;display:none}.spinner{border:4px solid rgba(0,0,0,.1);border-left-color:#2a5298;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 15px}@keyframes spin{to{transform:rotate(360deg)}}.error{background-color:#ffebee;color:#c62828;padding:15px;border-radius:5px;margin:15px 0;display:none}.company-info{line-height:1.8}.info-item{margin-bottom:10px}.info-label{font-weight:700;color:#555}</style></head><body><div class="container"><header><h1>Alpha Vantage Stock Dashboard</h1><p>Real-time market data and analytics</p></header><section class="search-section"><div class="search-form"><input type="text" id="symbolInput" placeholder="Enter stock symbol (e.g., IBM, AAPL, MSFT)"> <select id="functionSelect"><option value="TIME_SERIES_DAILY">Daily</option><option value="TIME_SERIES_INTRADAY">Intraday</option><option value="TIME_SERIES_WEEKLY">Weekly</option><option value="TIME_SERIES_MONTHLY">Monthly</option></select> <button type="button" id="searchButton">Search</button></div><div class="search-results" id="searchResults"></div><div class="loading" id="loadingIndicator"><div class="spinner"></div><p>Loading data...</p></div><div class="error" id="errorMessage"></div></section><div class="dashboard"><div class="card"><h2>Quote Information</h2><div id="quoteInfo"><p>Enter a stock symbol to see quote information</p></div></div><div class="card"><h2>Price Chart</h2><div class="chart-container"><canvas id="priceChart"></canvas></div></div><div class="card"><h2>Company Overview</h2><div id="companyInfo"><p>Enter a stock symbol to see company information</p></div></div><div class="card"><h2>Market News</h2><div id="marketNews"><p>Market news will appear here</p></div></div></div></div><script>const API_KEY="Q6DBXKDA509BGZAL";let currentChart=null;const symbolInput=document.getElementById("symbolInput"),functionSelect=document.getElementById("functionSelect"),searchButton=document.getElementById("searchButton"),searchResults=document.getElementById("searchResults"),loadingIndicator=document.getElementById("loadingIndicator"),errorMessage=document.getElementById("errorMessage"),quoteInfo=document.getElementById("quoteInfo"),companyInfo=document.getElementById("companyInfo"),marketNews=document.getElementById("marketNews"),priceChart=document.getElementById("priceChart");function handleSymbolInput(){var e=symbolInput.value.trim();1<e.length?searchSymbols(e):searchResults.style.display="none"}async function searchSymbols(e){try{const a=await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${e}&apikey=${API_KEY}`);var t=await a.json();t.bestMatches&&displaySearchResults(t.bestMatches)}catch(e){console.error("Error searching symbols:",e)}}function displaySearchResults(e){searchResults.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.className="search-result-item",t.innerHTML=`
                    <strong>${e["1. symbol"]}</strong> - ${e["2. name"]} (${e["4. region"]})
                `,t.addEventListener("click",()=>{symbolInput.value=e["1. symbol"],searchResults.style.display="none",searchStock()}),searchResults.appendChild(t)}),searchResults.style.display="block"}async function searchStock(){var e=symbolInput.value.trim().toUpperCase();if(e){showLoading(),hideError();try{var t=await fetchQuote(e);t&&displayQuoteInfo(t);var a=await fetchTimeSeries(e,functionSelect.value);a&&displayPriceChart(a,e);var n=await fetchCompanyOverview(e);n&&displayCompanyInfo(n);var o=await fetchMarketNews(e);o&&displayMarketNews(o)}catch(e){console.error("Error fetching data:",e),showError("Failed to fetch data. Please try again.")}finally{hideLoading()}}else showError("Please enter a stock symbol")}async function fetchQuote(e){try{const a=await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${e}&apikey=${API_KEY}`);var t=await a.json();if(t["Global Quote"])return t["Global Quote"];throw t.Note||t.Information?new Error("API call limit reached or invalid response"):new Error("No quote data found")}catch(e){return console.error("Error fetching quote:",e),showError("Failed to fetch quote data"),null}}async function fetchTimeSeries(a,n){try{let e=`https://www.alphavantage.co/query?function=${n}&symbol=${a}&apikey=${API_KEY}`;"TIME_SERIES_INTRADAY"===n&&(e+="&interval=5min");const s=await fetch(e);var o=await s.json();let t;if("TIME_SERIES_INTRADAY"===n?t=o["Time Series (5min)"]:"TIME_SERIES_DAILY"===n?t=o["Time Series (Daily)"]:"TIME_SERIES_WEEKLY"===n?t=o["Weekly Time Series"]:"TIME_SERIES_MONTHLY"===n&&(t=o["Monthly Time Series"]),t)return t;throw o.Note||o.Information?new Error("API call limit reached or invalid response"):new Error("No time series data found")}catch(e){return console.error("Error fetching time series:",e),showError("Failed to fetch time series data"),null}}async function fetchCompanyOverview(e){try{const a=await fetch(`https://www.alphavantage.co/query?function=OVERVIEW&symbol=${e}&apikey=${API_KEY}`);var t=await a.json();if(t.Name)return t;throw t.Note||t.Information?new Error("API call limit reached or invalid response"):new Error("No company data found")}catch(e){return console.error("Error fetching company overview:",e),showError("Failed to fetch company information"),null}}async function fetchMarketNews(e){try{const t=await fetch(`https://www.alphavantage.co/query?function=NEWS_SENTIMENT&tickers=${e}&apikey=${API_KEY}`),a=await t.json();if(a.feed)return a.feed.slice(0,5);throw a.Note||a.Information?new Error("API call limit reached or invalid response"):new Error("No news data found")}catch(e){return console.error("Error fetching market news:",e),null}}function displayQuoteInfo(e){const t=parseFloat(e["09. change"]);var a=e["10. change percent"],n=0<=t;quoteInfo.innerHTML=`
                <div class="price ${n?"positive":"negative"}">
                    $${parseFloat(e["05. price"]).toFixed(2)}
                </div>
                <div class="quote-info">
                    <div class="quote-item">
                        <span>Change:</span>
                        <span class="${n?"positive":"negative"}">
                            ${n?"+":""}${t.toFixed(2)} (${a})
                        </span>
                    </div>
                    <div class="quote-item">
                        <span>Open:</span>
                        <span>$${parseFloat(e["02. open"]).toFixed(2)}</span>
                    </div>
                    <div class="quote-item">
                        <span>High:</span>
                        <span>$${parseFloat(e["03. high"]).toFixed(2)}</span>
                    </div>
                    <div class="quote-item">
                        <span>Low:</span>
                        <span>$${parseFloat(e["04. low"]).toFixed(2)}</span>
                    </div>
                    <div class="quote-item">
                        <span>Volume:</span>
                        <span>${parseInt(e["06. volume"]).toLocaleString()}</span>
                    </div>
                    <div class="quote-item">
                        <span>Previous Close:</span>
                        <span>$${parseFloat(e["08. previous close"]).toFixed(2)}</span>
                    </div>
                </div>
            `}function displayPriceChart(e,t){currentChart&&currentChart.destroy();const a=[],n=[],o=Object.entries(e).slice(0,30).reverse();o.forEach(([e,t])=>{a.push(e),n.push(parseFloat(t["4. close"]))});e=priceChart.getContext("2d");currentChart=new Chart(e,{type:"line",data:{labels:a,datasets:[{label:`${t} Price`,data:n,borderColor:"#2a5298",backgroundColor:"rgba(42, 82, 152, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1}},y:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(e){return"$"+e}}}}}})}function displayCompanyInfo(e){companyInfo.innerHTML=`
                <div class="company-info">
                    <div class="info-item">
                        <span class="info-label">Name:</span> ${e.Name}
                    </div>
                    <div class="info-item">
                        <span class="info-label">Sector:</span> ${e.Sector}
                    </div>
                    <div class="info-item">
                        <span class="info-label">Industry:</span> ${e.Industry}
                    </div>
                    <div class="info-item">
                        <span class="info-label">Description:</span> ${e.Description.substring(0,200)}...
                    </div>
                    <div class="info-item">
                        <span class="info-label">Market Cap:</span> $${parseInt(e.MarketCapitalization).toLocaleString()}
                    </div>
                    <div class="info-item">
                        <span class="info-label">P/E Ratio:</span> ${e.PERatio}
                    </div>
                    <div class="info-item">
                        <span class="info-label">Dividend Yield:</span> ${e.DividendYield?(100*e.DividendYield).toFixed(2)+"%":"N/A"}
                    </div>
                    <div class="info-item">
                        <span class="info-label">52 Week High:</span> $${parseFloat(e["52WeekHigh"]).toFixed(2)}
                    </div>
                    <div class="info-item">
                        <span class="info-label">52 Week Low:</span> $${parseFloat(e["52WeekLow"]).toFixed(2)}
                    </div>
                </div>
            `}function displayMarketNews(e){if(e&&0!==e.length){let a="";e.forEach(e=>{var t=new Date(e.time_published).toLocaleDateString();a+=`
                    <div class="news-item" style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">${e.title}</h3>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">${t} - ${e.authors?e.authors.join(", "):"Unknown Author"}</p>
                        <p style="font-size: 0.95rem;">${e.summary.substring(0,150)}...</p>
                        <a href="${e.url}" target="_blank" style="color: #2a5298; text-decoration: none; font-size: 0.9rem;">Read more</a>
                    </div>
                `}),marketNews.innerHTML=a}else marketNews.innerHTML="<p>No recent news available</p>"}function showLoading(){loadingIndicator.style.display="block"}function hideLoading(){loadingIndicator.style.display="none"}function showError(e){errorMessage.textContent=e,errorMessage.style.display="block"}function hideError(){errorMessage.style.display="none"}searchButton.addEventListener("click",searchStock),symbolInput.addEventListener("input",handleSymbolInput),window.addEventListener("DOMContentLoaded",()=>{symbolInput.value="IBM",searchStock()})</script></body></html>
