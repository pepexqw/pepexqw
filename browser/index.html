<!DOCTYPE html><html lang=ru><head><meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1.0" /><title>Умный Поиск</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css /><style>*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}:root{--bg-primary:#1c1c1c;--bg-secondary:#2d2d2d;--bg-tertiary:#3d3d3d;--text-primary:#f5f5f5;--text-secondary:#b0b0b0;--accent-color:#58a6ff;--accent-hover:#79b8ff;--border-color:#444;--shadow:0 4px 12px rgba(0,0,0,.3);--ai-bg:rgba(88,166,255,.1);--ai-border:#58a6ff}body{background-color:var(--bg-primary);color:var(--text-primary);min-height:100vh;padding:20px;display:flex;flex-direction:column;align-items:center;transition:background-color .3s ease}.container{width:100%;max-width:900px;margin-top:40px}.header{text-align:center;margin-bottom:40px;animation:fadeIn 1s ease-out}.header h1{font-size:3rem;margin-bottom:10px;color:var(--text-primary);font-weight:700}.header p{font-size:1.2rem;color:var(--text-secondary)}.search-container{background-color:var(--bg-secondary);border-radius:12px;padding:30px;box-shadow:var(--shadow);margin-bottom:30px;animation:slideUp .8s ease-out;border:1px solid var(--border-color)}.search-box{display:flex;gap:15px;margin-bottom:20px}.search-input{flex:1;padding:15px 20px;background-color:var(--bg-primary);border:2px solid var(--border-color);border-radius:8px;font-size:1.1rem;color:var(--text-primary);transition:all .3s ease;outline:none}.search-input:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(88,166,255,.2)}.search-input::placeholder{color:var(--text-secondary)}.search-btn{background-color:var(--accent-color);color:#fff;border:none;border-radius:8px;padding:0 30px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.search-btn:hover{background-color:var(--accent-hover);transform:translateY(-2px)}.search-btn:active{transform:translateY(0)}.search-features{display:flex;justify-content:space-between;margin-top:15px;font-size:.9rem;color:var(--text-secondary)}.feature{display:flex;align-items:center;gap:5px}.feature i{color:var(--accent-color)}.search-mode-toggle{display:flex;background-color:var(--bg-tertiary);border-radius:8px;padding:4px;margin-bottom:20px}.mode-btn{flex:1;padding:10px 15px;background:transparent;border:none;border-radius:6px;color:var(--text-secondary);font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.mode-btn.active{background-color:var(--accent-color);color:#fff}.results-container{background-color:var(--bg-secondary);border-radius:12px;padding:30px;box-shadow:var(--shadow);animation:fadeIn .5s ease-out;display:none;border:1px solid var(--border-color)}.results-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid var(--border-color)}.results-title{font-size:1.5rem;color:var(--text-primary)}.results-count{background-color:var(--bg-tertiary);color:var(--text-secondary);padding:5px 12px;border-radius:20px;font-size:.9rem}.ai-answer-section{background:var(--ai-bg);border-radius:12px;padding:25px;margin-bottom:30px;border:1px solid var(--ai-border);position:relative;box-shadow:0 2px 8px rgba(88,166,255,.2)}.ai-answer-header{display:flex;align-items:center;gap:10px;margin-bottom:15px;color:var(--accent-color)}.ai-answer-header i{font-size:1.2rem}.ai-answer-title{font-size:1.1rem;font-weight:600}.ai-answer-content{line-height:1.6;color:var(--text-primary);font-size:1rem}.ai-answer-source{margin-top:15px;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center;gap:5px}.ai-answer-source a{color:var(--accent-color);text-decoration:none}.ai-answer-source a:hover{text-decoration:underline}.result-item{padding:20px 0;border-bottom:1px solid var(--border-color);transition:all .3s ease;cursor:pointer}.result-item:hover{background-color:var(--bg-tertiary);padding-left:10px;border-radius:8px}.result-title{font-size:1.2rem;margin-bottom:8px}.result-title a{color:var(--accent-color);text-decoration:none;transition:color .2s}.result-title a:hover{color:var(--accent-hover);text-decoration:underline}.result-snippet{color:var(--text-secondary);line-height:1.5}.result-link{color:var(--accent-color);font-size:.9rem;margin-top:5px;display:block;word-break:break-all;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;text-decoration:none}.result-link:hover{text-decoration:underline}.loading{text-align:center;padding:30px;color:var(--text-secondary)}.loading-spinner{display:inline-block;width:40px;height:40px;border:4px solid rgba(88,166,255,.3);border-radius:50%;border-top-color:var(--accent-color);animation:spin 1s ease-in-out infinite;margin-bottom:15px}.empty-state{text-align:center;padding:40px 20px;color:var(--text-secondary)}.empty-state i{font-size:3rem;margin-bottom:15px;color:var(--text-secondary)}.footer{margin-top:40px;color:var(--text-secondary);text-align:center;font-size:.9rem}.theme-toggle{position:fixed;top:20px;right:20px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow)}.theme-toggle:hover{background-color:var(--bg-tertiary);transform:rotate(30deg)}.theme-toggle i{font-size:1.2rem;color:var(--text-primary)}body.light-theme{--bg-primary:#f5f5f5;--bg-secondary:#fff;--bg-tertiary:#f0f0f0;--text-primary:#1c1c1c;--text-secondary:#5a5a5a;--accent-color:#06c;--accent-hover:#0052a3;--border-color:#e0e0e0;--shadow:0 4px 12px rgba(0,0,0,.1);--ai-bg:rgba(0,102,204,.05);--ai-border:#06c}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{to{transform:rotate(360deg)}}@media(max-width:600px){.container{margin-top:20px;max-width:100%}.header h1{font-size:2.2rem}.search-box{flex-direction:column}.search-btn{padding:15px;margin-top:10px;justify-content:center}.search-features{flex-direction:column;gap:10px}.theme-toggle{top:10px;right:10px;width:40px;height:40px}.ai-answer-section{padding:20px}.search-mode-toggle{flex-direction:column}}</style></head><body><div class=theme-toggle id=themeToggle><i class="fas fa-moon"></i></div><div class=container><div class=header><h1>Умный Поиск</h1><p>Найдите информацию в интернете быстро и легко</p></div><div class=search-container><div class=search-mode-toggle><button class="mode-btn active" data-mode=regular><i class="fas fa-search"></i> Обычный поиск</button> <button class=mode-btn data-mode=ai><i class="fas fa-robot"></i> ИИ-поиск</button></div><div class=search-box><input type=text id=query class=search-input placeholder="Введите ваш запрос..." /><button id=searchBtn class=search-btn><i class="fas fa-search"></i> Поиск</button></div><div class=search-features><div class=feature><i class="fas fa-shield-alt"></i> Безопасный поиск</div><div class=feature><i class="fas fa-bolt"></i> Молниеносная скорость</div><div class=feature><i class="fas fa-globe"></i> По всему интернету</div></div></div><div id=results class=results-container></div></div><div class=footer><p>© 2023 Умный Поиск | Все права защищены</p></div><script>function performSearch(){const n=document.getElementById("query").value.trim();if(!n){alert("Пожалуйста, введите поисковый запрос");return}const t=document.getElementById("results");t.style.display="block";t.innerHTML=`
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>${currentMode==="ai"?"ИИ обрабатывает ваш запрос...":"Ищем информацию по вашему запросу..."}</p>
                </div>
            `;const i=encodeURIComponent(n),r=`https://api.duckduckgo.com/?q=${i}&format=json&no_html=1&skip_disambig=1`;fetch(r).then(n=>n.json()).then(t=>{currentMode==="ai"?displayAIResults(t,n):displayRegularResults(t,n)}).catch(()=>{t.innerHTML=`
                        <div class="empty-state">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>Произошла ошибка</h3>
                            <p>Не удалось загрузить результаты поиска. Пожалуйста, попробуйте позже.</p>
                        </div>
                    `})}function displayRegularResults(n){const u=document.getElementById("results"),f=n.RelatedTopics||[],i=f.filter(n=>n.Text&&!n.FirstURL),r=f.filter(n=>n.FirstURL&&n.Text);if(i.length===0&&r.length===0){u.innerHTML=`
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>Ничего не найдено</h3>
                        <p>Попробуйте изменить поисковый запрос или использовать другие ключевые слова.</p>
                    </div>
                `;return}let t=`
                <div class="results-header">
                    <h2 class="results-title">Результаты поиска</h2>
                    <div class="results-count">${i.length+r.length} результатов</div>
                </div>
            `;if(i.length>0){t+=`
                    <div class="ai-answer-section">
                        <div class="ai-answer-header">
                            <i class="fas fa-robot"></i>
                            <div class="ai-answer-title">Краткий ответ</div>
                        </div>
                        <div class="ai-answer-content">
                `;const r=i.map(n=>n.Text.replace(/<[^>]*>/g,"")).join(". ");t+=`<p>${r}</p>`;n.AbstractURL&&(t+=`
                        <div class="ai-answer-source">
                            <i class="fas fa-external-link-alt"></i>
                            <a href="${n.AbstractURL}" target="_blank">Источник</a>
                        </div>
                    `);t+=`</div></div>`}r.length>0&&r.forEach(n=>{const i=n.Text.replace(/<[^>]*>/g,""),r=truncateUrl(n.FirstURL,60);t+=`
                        <div class="result-item" onclick="window.open('${n.FirstURL}', '_blank')">
                            <h3 class="result-title">
                                <a href="${n.FirstURL}" target="_blank">${extractTitle(i)}</a>
                            </h3>
                            <p class="result-snippet">${extractSnippet(i)}</p>
                            <a href="${n.FirstURL}" class="result-link" title="${n.FirstURL}" target="_blank">${r}</a>
                        </div>
                    `});u.innerHTML=t}function displayAIResults(n,t){const c=document.getElementById("results"),f=n.Abstract||n.AbstractText,e=n.Answer,o=n.Definition,s=n.RelatedTopics?n.RelatedTopics.filter(n=>n.Text&&!n.FirstURL):[];let i="",h=n.AbstractURL;if(e)i=e;else if(f)i=f;else if(o)i=o;else if(s.length>0)i=s.map(n=>n.Text.replace(/<[^>]*>/g,"")).join(". ");else{displayRegularResults(n,t);return}let r=`
                <div class="results-header">
                    <h2 class="results-title">ИИ-ответ</h2>
                    <div class="results-count">ИИ-поиск</div>
                </div>
                
                <div class="ai-answer-section">
                    <div class="ai-answer-header">
                        <i class="fas fa-robot"></i>
                        <div class="ai-answer-title">Ответ на ваш вопрос</div>
                    </div>
                    <div class="ai-answer-content">
                        <p>${i}</p>
            `;h&&(r+=`
                    <div class="ai-answer-source">
                        <i class="fas fa-external-link-alt"></i>
                        <a href="${h}" target="_blank">Источник информации</a>
                    </div>
                `);r+=`</div></div>`;const u=n.RelatedTopics?n.RelatedTopics.filter(n=>n.FirstURL&&n.Text):[];u.length>0&&(r+=`
                    <div class="results-header" style="margin-top: 30px;">
                        <h2 class="results-title">Дополнительные источники</h2>
                        <div class="results-count">${Math.min(u.length,5)} результатов</div>
                    </div>
                `,u.slice(0,5).forEach(n=>{const t=n.Text.replace(/<[^>]*>/g,""),i=truncateUrl(n.FirstURL,60);r+=`
                        <div class="result-item" onclick="window.open('${n.FirstURL}', '_blank')">
                            <h3 class="result-title">
                                <a href="${n.FirstURL}" target="_blank">${extractTitle(t)}</a>
                            </h3>
                            <p class="result-snippet">${extractSnippet(t)}</p>
                            <a href="${n.FirstURL}" class="result-link" title="${n.FirstURL}" target="_blank">${i}</a>
                        </div>
                    `}));c.innerHTML=r}function truncateUrl(n,t){if(n.length<=t)return n;const i=n.substring(0,t*.6),r=n.substring(n.length-t*.3);return i+"..."+r}function extractTitle(n){const t=n.split(/[-–—:]/)[0];return t&&t.length>10?t.trim():n.substring(0,60)+"..."}function extractSnippet(n){const t=n.split(/[-–—:]/);return t.length>1?t.slice(1).join(" ").trim():n.length>150?n.substring(0,150)+"...":n}const themeToggle=document.getElementById("themeToggle"),themeIcon=themeToggle.querySelector("i");themeToggle.addEventListener("click",()=>{document.body.classList.toggle("light-theme"),document.body.classList.contains("light-theme")?(themeIcon.classList.remove("fa-moon"),themeIcon.classList.add("fa-sun")):(themeIcon.classList.remove("fa-sun"),themeIcon.classList.add("fa-moon"))});const modeButtons=document.querySelectorAll(".mode-btn");let currentMode="regular";modeButtons.forEach(n=>{n.addEventListener("click",()=>{modeButtons.forEach(n=>n.classList.remove("active"));n.classList.add("active");currentMode=n.dataset.mode;const t=document.getElementById("query");t.placeholder=currentMode==="ai"?"Задайте вопрос ИИ...":"Введите ваш запрос..."})});document.getElementById("searchBtn").addEventListener("click",performSearch);document.getElementById("query").addEventListener("keypress",function(n){n.key==="Enter"&&performSearch()})</script></body></html>
